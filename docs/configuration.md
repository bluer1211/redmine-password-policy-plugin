# 配置說明

## 基本設定

### 進入管理員設定

1. 登入 Redmine 管理員帳號
2. 點擊「管理」→「設定」→「插件」

### 配置密碼政策

1. 找到「Password Policy Plugin」
2. 點擊「配置」
3. 設定所需的密碼規則
4. 點擊「儲存」

## 設定選項

| 選項 | 說明 | 預設值 |
|------|------|--------|
| 最小長度 | 密碼最小字符數 | 8 |
| 必須包含大寫字母 | 強制要求大寫字母 | ✓ |
| 必須包含小寫字母 | 強制要求小寫字母 | ✓ |
| 必須包含數字 | 強制要求數字 | ✓ |
| 必須包含特殊字符 | 強制要求特殊字符 | ✓ |
| 防止使用常見密碼 | 禁止常見弱密碼 | ✓ |
| 防止使用連續字符 | 禁止連續字符 | ✓ |
| 防止使用連續鍵盤位置字符 | 禁止鍵盤模式 | ✓ |
| 防止使用重複字符 | 禁止重複字符 | ✓ |

## 詳細配置說明

### 密碼長度限制

- **最小長度**：設定密碼的最小字符數
- **建議值**：8-12 字符
- **安全性**：較長的密碼提供更好的安全性

### 字符類型要求

#### 大寫字母
- 要求密碼包含至少一個大寫字母 (A-Z)
- 提高密碼複雜度

#### 小寫字母
- 要求密碼包含至少一個小寫字母 (a-z)
- 增加字符多樣性

#### 數字
- 要求密碼包含至少一個數字 (0-9)
- 提高密碼強度

#### 特殊字符
- 要求密碼包含至少一個特殊字符
- 支援的特殊字符：`!@#$%^&*()_+-=[]{}|;':",./<>?`

### 安全防護

#### 防止常見密碼
- 禁止使用常見的弱密碼
- 包含：`password`、`123456`、`admin` 等

#### 防止連續字符
- 禁止使用連續的字符序列
- 包含：`1234567890`、`abcdef` 等

#### 防止鍵盤模式
- 禁止使用鍵盤位置模式
- 包含：`1qaz2wsx`、`#EDC$RFV` 等

#### 防止重複字符
- 禁止使用重複的字符
- 包含：`aaa`、`111` 等

## 測試配置

### 測試密碼政策

1. **創建新用戶**
   - 嘗試使用弱密碼（如 `password123`）
   - 系統會顯示相應的錯誤訊息

2. **修改現有用戶密碼**
   - 進入用戶設定頁面
   - 嘗試修改為不符合政策的密碼
   - 驗證錯誤訊息是否正確顯示

### 測試案例

| 密碼 | 預期結果 | 說明 |
|------|----------|------|
| `MyS3cur3P@ssw0rd!` | ✅ 通過 | 符合所有要求 |
| `password` | ❌ 失敗 | 常見密碼 |
| `123456` | ❌ 失敗 | 連續數字 |
| `1qaz2wsx` | ❌ 失敗 | 鍵盤模式 |
| `aaa` | ❌ 失敗 | 重複字符 |
| `short` | ❌ 失敗 | 長度不足 |

## 最佳實踐

### 密碼政策建議

1. **平衡安全性與可用性**
   - 設定合理的密碼長度要求
   - 避免過於嚴格的限制

2. **定期更新政策**
   - 根據安全需求調整設定
   - 監控密碼政策效果

3. **用戶教育**
   - 提供密碼創建指南
   - 解釋密碼政策的重要性

### 配置範例

#### 基本安全配置
```yaml
min_length: 8
require_uppercase: true
require_lowercase: true
require_numbers: true
require_special_chars: false
prevent_common_passwords: true
prevent_sequential_chars: true
prevent_keyboard_patterns: false
prevent_repetitive_chars: true
```

#### 高安全配置
```yaml
min_length: 12
require_uppercase: true
require_lowercase: true
require_numbers: true
require_special_chars: true
prevent_common_passwords: true
prevent_sequential_chars: true
prevent_keyboard_patterns: true
prevent_repetitive_chars: true
```

## 故障排除

### 常見配置問題

1. **設定不生效**
   - 確認已點擊「儲存」按鈕
   - 重新啟動 Redmine 服務
   - 清除瀏覽器快取

2. **錯誤訊息不顯示**
   - 檢查語言設定
   - 確認語言文件是否正確載入

3. **設定頁面無法訪問**
   - 確認管理員權限
   - 檢查插件是否正確啟用
